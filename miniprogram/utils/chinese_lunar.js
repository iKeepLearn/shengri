!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.chinese_lunar_calendar=e():t.chinese_lunar_calendar=e()}(this,function(){return function(t){var e={};function r(V){if(e[V])return e[V].exports;var o=e[V]={i:V,l:!1,exports:{}};return t[V].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,V){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:V})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var V=Object.create(null);if(r.r(V),Object.defineProperty(V,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(V,o,function(e){return t[e]}.bind(null,o));return V},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){t.exports={base64ToBit:function(t){const e=[];for(let r=0;r<t.length;r++){let V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t[r]);e.push(V.toString(2).padStart(6,"0"))}return e.join("")},checkDate:function(t,e,r){if(t<1901||t>2100)throw new Error("Invalid Year");if(e<1||e>12)throw new Error("Invalid Month");if(r<1||r>31)throw new Error("Invalid Date");if(-1!=[4,6,9,11].indexOf(e)&&r>30)throw new Error("Invalid Date");if(2==e){if(r>29)throw new Error("Invalid Date");{let e=!1;if(t%400==0?e=!0:t%4==0&&t%100!=0&&(e=!0),!e&&r>28)throw new Error("Invalid Date")}}}}},function(t,e,r){const{base64ToBit:V,checkDate:o}=r(0),{getSolarTerm:a}=r(2),n=[],l="甲乙丙丁戊己庚辛壬癸",u="子丑寅卯辰巳午未申酉戌亥",q="鼠牛虎兔龙蛇马羊猴鸡狗猪",i="正二三四五六七八九十冬腊",p="一二三四五六七八九十";function c(t,e,r){const V=`${r?"闰":""}${i[t-1]}月`;return e<=10?`${V}初${p[e-1]}`:e<20?`${V}十${p[e-11]}`:20==e?`${V}廿十`:e>20?`${V}廿${p[e-21]}`:`${V}三十`}!function(){const t=V("hLaCVwUrqpNDSYNlUaqgrUE1pJXQSuak2FJoaSrqlC1QNailtBK26TcElwpLWyWDUoNqJW1ArYJVySXgkuzJYNSg6lVtSC1oFbHJuCS58loZKhqU20oLVQVqSq2BLoSWlkrCpV7SoNlBaqqrUE2gpbNSuClcVKg6VBqpq1QVaglslK4KVwUmPpMGyrrVQVqCW1UroJWhSamk0NJY1ShaoFtTS2glbBJtKS4Ul1ZLBqUG1GraBVsEq6pLwSXBks2pQdSw1lBawKtlk2hJcGSyalQ1KDaUlqoK1PVbAl0JLVyVhUqFpSWqgrVlVqCXQUtspXBSsKk0dKg1UFapJtQS2alcFJwaTL0mDVMFqja1BLbaV0ErQpNbSWGkoapLtUC1oFbSStgk29JcKSwqlW1KDaQVtGq2CTeEl4JLgyWzUoOpQaqSrYFVwSXHkuDJZ9SoalBtKq1UFagptRS6ClsVKwqVC0prVQVqgq0lLoKWwUrOpODSbuUwaqCtVU2oJbBSuik4NFo6TBqkG1TNagVtBK5KToUWhoqWyUNUg");let e={y:1900,m:1,d:31,obj:new Date(1900,0,31,0,0,0,0)},r=6,o=0;for(let V=0;V<t.length&&!(V+16>=t.length);){const a=t.substr(V,4);V+=4;const l=+`0b${a}`,u=l>0?13:12,q=t.substr(V,u).split("").map(t=>+t);V+=u,n.push({solarDate:e,leapMonth:l,months:q,heavenlyStem:r,earthlyBranch:o});const i=29*u+q.filter(t=>1==t).length,p=new Date(e.y,e.m-1,e.d+i,0,0,0,0);e={y:p.getFullYear(),m:p.getMonth()+1,d:p.getDate(),obj:p},r=(r+1)%10,o=(o+1)%12}}(),t.exports={getLunar:function(t,e,r){t=Math.floor(+t),e=Math.floor(+e),r=Math.floor(+r),o(t,e,r);let V=t-1900,i=n[V];var p,s;if(p=i.solarDate,s={y:t,m:e,d:r},(p.y!=s.y?p.y>s.y:p.m!=s.m?p.m>s.m:p.d!=s.d&&p.d>s.d)&&(i=n[V-=1]),!i)throw new Error("Invalid Date");const f=new Date(t,e-1,r,0,0,0,0);let h=Math.round((f.getTime()-i.solarDate.obj.getTime())/864e5),F=!1;for(let V=0;V<i.months.length;V++){const o=i.leapMonth>0&&V==i.leapMonth;o&&(F=!0);const n=29+i.months[V];if(h<n){let n=F?V:V+1;return{lunarMonth:n,lunarDate:h+1,isLeap:o,solarTerm:a(t,e,r),lunarYear:`${l[i.heavenlyStem]}${u[i.earthlyBranch]}年`,zodiac:`${q[i.earthlyBranch]}`,dateStr:c(n,h+1,o)}}h-=n}throw new Error("There's something wrong!")}}},function(t,e,r){const{base64ToBit:V,checkDate:o}=r(0),a=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],n=[4,19,3,18,4,19,4,19,4,20,4,20,6,22,6,22,6,22,7,22,6,21,6,21],l=[];!function(){const t="ABCDAECDAECDFGHIJKHILKMILABNOABNOAENOAENOAEPQRGSTUGSTLAVTOAWXOAWXOAYXOAYZOabcdebcQUfgThijkOilXOimXOimXOimcOnocdpqcQrsgktujkvumXvumXvumcvumcvwocxyqcz0sj10s213u243um43um53wm56wq567q589s+/0s~/3u~!3u@#3um",e="paaqmqqpqaquqqqqqvruruqq6qWaWZqlqaqqqqqqlaaqmqqppaaqqqqqqrququqqqqWaWZaVlaaampqlpaaqqqqplaWampqlqaququqqqqWZWZVVlaWaWZqlqqVZWZVVlaWaWZaVlaaqmpqpqmVZVZVVVaWaWZaVlaWampqpqlVZVZVVqVVZVVVVVaWZWZVVqVVVVVVVVaVZWZVVpaaqmpqpqVFVVVVVVaVZVZVVlaWaWZalpaaampqppVFVRVVVVWVZVZVVlaWaWpqlpVFVRVVUVVVZVVVVVaWZWZaVVFVZVVVVVFVVVVVVpVFVRUVUVFFVVVVVpVFFRUVUVFFVRVVVlVBFRUVUUFFVRVVVlVBFBEVUUFFVRVVUlVBFBEVQUFFFRUVUlVBFBEFQUFBFRUVUlVBEBEFAQFBFBEVUVVBEBEFAVVVVVVVVQFBFBEVQVVBEBEAAVVAEAEAAQFBFBEFQUFBFBUVUQFBEBEFAUFBFBEVUVQAEAAAAAFBEBEFAVQAAAAAAAFBEBEAAVAAAAAAAAFBEAEAA",r=[];for(let t=0;t<e.length;t+=8){const o=V(e.substr(t,8)),a=[];for(let t=0;t<o.length;t+=2)a.push(+`0b${o.substr(t,2)}`);r.push(a)}for(let e=0;e<t.length;e++)l.push(r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/~!@#".indexOf(t[e])])}(),t.exports={getSolarTerm:function(t,e,r){t=Math.floor(+t),e=Math.floor(+e),r=Math.floor(+r),o(t,e,r);const V=2*(e-1)+(r<15?0:1);return r==n[V]+l[t-1901][V]?a[V]:null}}}])});